<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="This section exlains how to contribute to the library codebase.">
<meta name="keywords" content=" ">
<title>Contributing To The Library | A Graphing Library for Scala</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="picta" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            // $("#mysidebar").navgoco({
            //     caretHtml: '',
            //     accordion: false,
            //     openClass: 'active', // open
            //     save: false, // leave false or nav highlighting doesn't work right
            //     cookie: {
            //         name: 'navgoco',
            //         expires: false,
            //         path: '/'
            //     },
            //     slide: {
            //         duration: 400,
            //         easing: 'swing'
            //     }
            // });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>


            <a class="navbar-brand" href="index.html">
                <img id="navbar-brand-logo" src="images/favicon.ico" width="30" height="30" alt="#">
                <span class="projectTitle"> Picta</span>
            </a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/cedricmjohn/picta" target="_blank" rel="noopener">GitHub</a></li>
                
                
                
                <li><a href="/picta-docs/pages/api/index.html" target="_blank" rel="noopener">API</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Contributing To The Library">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Picta 0.1.1</li>
  
  
  
  <li>
      <a title="Getting Started" href="#">Getting Started</a>
      <ul>
          
          
          
          <li><a title="Introduction" href="index.html">Introduction</a></li>
          
          
          
          
          
          
          <li><a title="Your First Chart" href="first_chart.html">Your First Chart</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Chart Components" href="#">Chart Components</a>
      <ul>
          
          
          
          <li><a title="Canvas" href="canvas.html">Canvas</a></li>
          
          
          
          
          
          
          <li><a title="Chart" href="chart.html">Chart</a></li>
          
          
          
          
          
          
          <li><a title="Chart Layout" href="layout.html">Chart Layout</a></li>
          
          
          
          
          
          
          <li><a title="Series" href="series.html">Series</a></li>
          
          
          
          
          
          
          <li><a title="Config" href="config.html">Config</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Creating Charts" href="#">Creating Charts</a>
      <ul>
          
          
          
          <li><a title="2D Charts" href="2D.html">2D Charts</a></li>
          
          
          
          
          
          
          <li><a title="3D Charts" href="3D.html">3D Charts</a></li>
          
          
          
          
          
          
          <li><a title="Animations" href="animations.html">Animations</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Styling" href="#">Styling</a>
      <ul>
          
          
          
          <li><a title="Marker Styles" href="marker_styles">Marker Styles</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Example Gallery" href="#">Example Gallery</a>
      <ul>
          
          
          
          <li><a title="Example Gallery" href="example_gallery">Example Gallery</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Roadmap" href="#">Roadmap</a>
      <ul>
          
          
          
          <li><a title="Roadmap" href="roadmap">Roadmap</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a title="Contributing" href="#">Contributing</a>
      <ul>
          
          
          
          <li><a title="Contributing to the Docs" href="contributing_docs">Contributing to the Docs</a></li>
          
          
          
          
          
          
          <li><a title="Contributing to the Library" href="contributing_library">Contributing to the Library</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:-->
         <!-- <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>  -->
        
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted. -->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Contributing To The Library</h1>
</div>



<div class="post-content">

   
    <div class="summary">This section exlains how to contribute to the library codebase.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

   <h2 id="testing-requirements">Testing Requirements</h2>

<p>If you have NPM installed, you can simply navigate to <code class="language-plaintext highlighter-rouge">/src/test/resources/javascript</code> and run the following command in your terminal:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install
</code></pre></div></div>

<p>This should install install all the necessary dependencies using <code class="language-plaintext highlighter-rouge">NPM</code> to get the unit-testing framework working correctly.</p>

<p>Run the following command using the <code class="language-plaintext highlighter-rouge">sbt</code> shell to see if your code compiles and can run the test suite:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+ test
</code></pre></div></div>

<p>You should see the unit tests run and give you an output indicating how many test cases passed or failed. You are now ready to
add more functionality to the codebase.</p>

<h2 id="adding-functionality">Adding functionality</h2>

<p>In Picta each component is represented by a case class.</p>

<p>Each component is a set of (key, value) pairs that can be serialized to a JSON object. A plot combines several components together
and produces a combined JSON object that is equivalent to a Plotly.js chart schema.</p>

<p>To add functionality, one needs to make sure that the combined JSON object is a valid Plotly.js schema. This means that valid (key, value)
pairs must be added to the correct component.</p>

<p>To see a full list of valid (key, value) pairs, consult the Plotly.js <a href="https://plotly.com/javascript/reference/">figure reference</a>.</p>

<h2 id="example">Example</h2>

<p>For a concrete example, consider the <code class="language-plaintext highlighter-rouge">ChartLayout</code> component:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">ChartLayout</span>
  <span class="o">(</span><span class="n">title</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span> <span class="n">axes</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Axis</span><span class="o">]]</span> <span class="k">=</span> <span class="nc">Empty</span><span class="o">,</span> <span class="n">legend</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">Legend</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span>
  <span class="n">auto_size</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">Boolean</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span> <span class="n">margin</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">Margin</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span><span class="n">map_options</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">MapOption</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span>
  <span class="n">multi_chart</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">MultiChart</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span><span class="n">hover_distance</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">Int</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span> <span class="n">show_legend</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span>
  <span class="n">hover_mode</span><span class="k">:</span> <span class="kt">HoverMode</span> <span class="o">=</span> <span class="nc">CLOSEST</span><span class="o">,</span> <span class="n">height</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">550</span><span class="o">,</span> <span class="n">width</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">600</span><span class="o">,</span>
 <span class="k">private</span><span class="o">[</span><span class="kt">picta</span><span class="o">]</span> <span class="k">val</span> <span class="nv">XYZ</span><span class="k">:</span> <span class="kt">Boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="o">)</span>
<span class="k">extends</span> <span class="nc">Component</span> <span class="o">{</span>

  <span class="k">def</span> <span class="nf">setTitle</span><span class="o">(</span><span class="n">new_title</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">title</span> <span class="k">=</span> <span class="n">new_title</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">setAxes</span><span class="o">(</span><span class="n">new_axes</span><span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Axis</span><span class="o">])</span> <span class="k">=</span> <span class="nv">axes</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
    <span class="cm">/* add to the end of existing list. This ensures things that when we have two of the same keys,
    the ones at the right are preserved. This is because below we foldleft when merging the axes */</span>
    <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">lst</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">axes</span> <span class="k">=</span> <span class="n">lst</span> <span class="o">:::</span> <span class="n">new_axes</span><span class="o">)</span>
    <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">axes</span> <span class="k">=</span> <span class="n">new_axes</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="k">def</span> <span class="nf">setAxes</span><span class="o">(</span><span class="n">new_axis</span><span class="k">:</span> <span class="kt">Axis*</span><span class="o">)</span> <span class="k">=</span> <span class="nv">axes</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
    <span class="cm">/* add to the end of existing list. This ensures things that when we have two of the same keys,
    the ones at the right are preserved. This is because below we foldleft when merging the axes */</span>
    <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">lst</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">axes</span> <span class="k">=</span> <span class="n">lst</span> <span class="o">:::</span> <span class="nv">new_axis</span><span class="o">.</span><span class="py">toList</span><span class="o">)</span>
    <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">axes</span> <span class="k">=</span> <span class="nv">new_axis</span><span class="o">.</span><span class="py">toList</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="k">def</span> <span class="nf">setLegend</span><span class="o">(</span><span class="n">new_legend</span><span class="k">:</span> <span class="kt">Legend</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">legend</span> <span class="k">=</span> <span class="n">new_legend</span><span class="o">,</span> <span class="n">show_legend</span> <span class="k">=</span> <span class="kc">true</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">setLegend</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">Double</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">Double</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span> <span class="n">orientation</span><span class="k">:</span> <span class="kt">Orientation</span> <span class="o">=</span> <span class="nc">VERTICAL</span><span class="o">,</span>
                <span class="n">xanchor</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">Anchor</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">,</span> <span class="n">yanchor</span><span class="k">:</span> <span class="kt">Opt</span><span class="o">[</span><span class="kt">Anchor</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Blank</span><span class="o">)</span> <span class="k">=</span> <span class="o">{</span>

    <span class="k">val</span> <span class="nv">new_legend</span> <span class="k">=</span> <span class="nc">Legend</span><span class="o">(</span><span class="n">x</span> <span class="k">=</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="k">=</span> <span class="n">y</span><span class="o">,</span> <span class="n">orientation</span> <span class="k">=</span> <span class="n">orientation</span><span class="o">,</span> <span class="n">xanchor</span> <span class="k">=</span> <span class="n">xanchor</span><span class="o">,</span> <span class="n">yanchor</span> <span class="k">=</span> <span class="n">yanchor</span><span class="o">)</span>
    <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">legend</span> <span class="k">=</span> <span class="n">new_legend</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="k">def</span> <span class="nf">setAutosize</span><span class="o">(</span><span class="n">new_autosize</span><span class="k">:</span> <span class="kt">Boolean</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">auto_size</span> <span class="k">=</span> <span class="n">new_autosize</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">setMargin</span><span class="o">(</span><span class="n">new_margin</span><span class="k">:</span> <span class="kt">Margin</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">margin</span> <span class="k">=</span> <span class="n">new_margin</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">setMapOption</span><span class="o">(</span><span class="n">new_geo</span><span class="k">:</span> <span class="kt">MapOption</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">map_options</span> <span class="k">=</span> <span class="n">new_geo</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">setMultiChart</span><span class="o">(</span><span class="n">new_minigrid</span><span class="k">:</span> <span class="kt">MultiChart</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">multi_chart</span> <span class="k">=</span> <span class="n">new_minigrid</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">showLegend</span><span class="o">(</span><span class="n">new_showlegend</span><span class="k">:</span> <span class="kt">Boolean</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">show_legend</span> <span class="k">=</span> <span class="n">new_showlegend</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">setHoverMode</span><span class="o">(</span><span class="n">new_hovermode</span><span class="k">:</span> <span class="kt">HoverMode</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">hover_mode</span> <span class="k">=</span> <span class="n">new_hovermode</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">setHeight</span><span class="o">(</span><span class="n">new_height</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">height</span> <span class="k">=</span> <span class="n">new_height</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">setWidth</span><span class="o">(</span><span class="n">new_width</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">width</span> <span class="k">=</span> <span class="n">new_width</span><span class="o">)</span>

  <span class="k">def</span> <span class="nf">setDimensions</span><span class="o">(</span><span class="n">new_height</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">new_width</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="n">height</span> <span class="k">=</span> <span class="n">new_height</span><span class="o">,</span> <span class="n">width</span> <span class="k">=</span> <span class="n">new_width</span><span class="o">)</span>

  <span class="k">private</span><span class="o">[</span><span class="kt">picta</span><span class="o">]</span> <span class="k">def</span> <span class="nf">setXYZ</span><span class="o">(</span><span class="nc">XYZ</span><span class="k">:</span> <span class="kt">Boolean</span><span class="o">)</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="py">copy</span><span class="o">(</span><span class="nc">XYZ</span> <span class="k">=</span> <span class="nc">XYZ</span><span class="o">)</span>

  <span class="k">private</span><span class="o">[</span><span class="kt">picta</span><span class="o">]</span> <span class="k">def</span> <span class="nf">serialize</span><span class="k">:</span> <span class="kt">Value</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">dim</span> <span class="k">=</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"height"</span> <span class="o">-&gt;</span> <span class="n">height</span><span class="o">,</span> <span class="s">"width"</span> <span class="o">-&gt;</span> <span class="n">width</span><span class="o">,</span> <span class="s">"hovermode"</span> <span class="o">-&gt;</span> <span class="nv">hover_mode</span><span class="o">.</span><span class="py">toString</span><span class="o">.</span><span class="py">toLowerCase</span><span class="o">)</span>

    <span class="k">val</span> <span class="nv">title_</span> <span class="k">=</span> <span class="nv">title</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"title"</span> <span class="o">-&gt;</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"text"</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">))</span>
      <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="nv">jsonMonoid</span><span class="o">.</span><span class="py">empty</span>
    <span class="o">}</span>

    <span class="k">val</span> <span class="nv">showlegend_</span> <span class="k">=</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"showlegend"</span> <span class="o">-&gt;</span> <span class="n">show_legend</span><span class="o">)</span>

    <span class="k">val</span> <span class="nv">autosize_</span> <span class="k">=</span> <span class="nv">auto_size</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"autosize"</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">)</span>
      <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="nv">jsonMonoid</span><span class="o">.</span><span class="py">empty</span>
    <span class="o">}</span>

    <span class="k">val</span> <span class="nv">geo_</span> <span class="k">=</span> <span class="nv">map_options</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"geo"</span> <span class="o">-&gt;</span> <span class="nv">x</span><span class="o">.</span><span class="py">serialize</span><span class="o">)</span>
      <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="nv">jsonMonoid</span><span class="o">.</span><span class="py">empty</span>
    <span class="o">}</span>

    <span class="k">val</span> <span class="nv">margin_</span> <span class="k">=</span> <span class="nv">margin</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"margin"</span> <span class="o">-&gt;</span> <span class="nv">x</span><span class="o">.</span><span class="py">serialize</span><span class="o">)</span>
      <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="nv">jsonMonoid</span><span class="o">.</span><span class="py">empty</span>
    <span class="o">}</span>

    <span class="k">val</span> <span class="nv">minigrid_</span> <span class="k">=</span> <span class="nv">multi_chart</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"grid"</span> <span class="o">-&gt;</span> <span class="nv">x</span><span class="o">.</span><span class="py">serialize</span><span class="o">)</span>
      <span class="k">case</span> <span class="nc">None</span> <span class="k">=&gt;</span> <span class="nv">jsonMonoid</span><span class="o">.</span><span class="py">empty</span>
    <span class="o">}</span>

    <span class="k">val</span> <span class="nv">legend_</span> <span class="k">=</span> <span class="nv">legend</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"legend"</span> <span class="o">-&gt;</span> <span class="nv">x</span><span class="o">.</span><span class="py">serialize</span><span class="o">)</span>
      <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="nv">jsonMonoid</span><span class="o">.</span><span class="py">empty</span>
    <span class="o">}</span>

    <span class="k">val</span> <span class="nv">hoverdistance_</span> <span class="k">=</span> <span class="nv">hover_distance</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"hoverdistance"</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">)</span>
      <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="nv">jsonMonoid</span><span class="o">.</span><span class="py">empty</span>
    <span class="o">}</span>

    <span class="k">val</span> <span class="nv">combined</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="n">dim</span><span class="o">,</span> <span class="n">title_</span><span class="o">,</span> <span class="n">showlegend_</span><span class="o">,</span> <span class="n">autosize_</span><span class="o">,</span> <span class="n">geo_</span><span class="o">,</span> <span class="n">margin_</span><span class="o">,</span> <span class="n">minigrid_</span><span class="o">,</span> <span class="n">legend_</span><span class="o">,</span> <span class="n">hoverdistance_</span><span class="o">)</span>
      <span class="o">.</span><span class="py">foldLeft</span><span class="o">(</span><span class="nv">jsonMonoid</span><span class="o">.</span><span class="py">empty</span><span class="o">)((</span><span class="n">a</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">a</span> <span class="o">|+|</span> <span class="n">x</span><span class="o">)</span>

    <span class="nv">axes</span><span class="o">.</span><span class="py">option</span> <span class="k">match</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nc">Some</span><span class="o">(</span><span class="n">lst</span><span class="o">)</span> <span class="k">=&gt;</span>
        <span class="nf">if</span> <span class="o">(</span><span class="nc">XYZ</span> <span class="o">==</span> <span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">val</span> <span class="nv">combined_axes</span> <span class="k">=</span> <span class="nv">lst</span><span class="o">.</span><span class="py">foldLeft</span><span class="o">(</span><span class="nv">jsonMonoid</span><span class="o">.</span><span class="py">empty</span><span class="o">)((</span><span class="n">a</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">a</span> <span class="o">|+|</span> <span class="nv">x</span><span class="o">.</span><span class="py">serialize</span><span class="o">)</span>
          <span class="k">val</span> <span class="nv">scene</span> <span class="k">=</span> <span class="nc">Obj</span><span class="o">(</span><span class="s">"scene"</span> <span class="o">-&gt;</span> <span class="n">combined_axes</span><span class="o">)</span>
          <span class="nc">List</span><span class="o">(</span><span class="n">scene</span><span class="o">).</span><span class="py">foldLeft</span><span class="o">(</span><span class="n">combined</span><span class="o">)((</span><span class="n">a</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">a</span> <span class="o">|+|</span> <span class="n">x</span><span class="o">)</span>
        <span class="o">}</span>
        <span class="cm">/* if we have a XY chart, we can filter out the zaxis as they will never be used */</span>
        <span class="k">else</span> <span class="nv">lst</span><span class="o">.</span><span class="py">filter</span><span class="o">(</span><span class="n">axis</span> <span class="k">=&gt;</span> <span class="nv">axis</span><span class="o">.</span><span class="py">orientation</span> <span class="o">!=</span> <span class="s">"zaxis"</span><span class="o">).</span><span class="py">foldLeft</span><span class="o">(</span><span class="n">combined</span><span class="o">)((</span><span class="n">a</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">a</span> <span class="o">|+|</span> <span class="nv">x</span><span class="o">.</span><span class="py">serialize</span><span class="o">)</span>
      <span class="k">case</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="n">combined</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>As can be seen from the <code class="language-plaintext highlighter-rouge">ChartLayout</code> component above, the constructor takes in a number of parameters. The name of the parameter is the corresponding
key, while itâ€™s value is the corresponding value in the (key, value) pair that is inserted into a JSON object. Inside the component there is a <code class="language-plaintext highlighter-rouge">serialize</code>
method that combines all of these (key, value) pairs into a single JSON object.</p>

<p>To extend this component, simply add an argument to the constructor, and ensure it is added to the JSON object when the <code class="language-plaintext highlighter-rouge">serialize</code> method is called.</p>

<h2 id="adding-a-unit-test">Adding A Unit Test</h2>

<p>Once you have added new functionality, add a new test to check that it still gives a valid Plotly.js JSON schema. To do this first navigate to
<code class="language-plaintext highlighter-rouge">/src/test/scala/test</code>. Add a new test case using the <a href="https://www.scalatest.org">ScalaTest</a> library, and call the <code class="language-plaintext highlighter-rouge">validateJson</code> function within your test
body, inside an <code class="language-plaintext highlighter-rouge">assert</code> statement to check whether the test passes or fails. All unit tests should pass before the additional code will be accepted.</p>


    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2020 Carbonate Research Lab, Imperial College London. All rights reserved. <br />
 Site last generated: Aug 25, 2020 <br />
<p><img id="footer-logo" src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
